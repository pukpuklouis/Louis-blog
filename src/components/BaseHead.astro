---
// Import the global.css file here so that it is included on
// all pages through the use of the <BaseHead /> component.
import "../styles/global.css";
import { SEO } from "astro-seo";
import { ClientRouter } from "astro:transitions";

interface Props {
	title: string;
	description: string;
	image?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const { title, description, image = "/blog-placeholder-1.jpg" } = Astro.props;
const ogImage = new URL(image, Astro.url);
---

<!-- Global Metadata -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/favicon-spaceman.svg" />

<!-- Font preloads -->
<link
	rel="preload"
	href="/fonts/atkinson-regular.woff"
	as="font"
	type="font/woff"
	crossorigin
/>
<link
	rel="preload"
	href="/fonts/atkinson-bold.woff"
	as="font"
	type="font/woff"
	crossorigin
/>

<!-- Sitemap -->
<link rel="sitemap" href="/sitemap-0.xml" />

<!-- SEO -->
<SEO
	title={title}
	description={description}
	canonical={canonicalURL}
	openGraph={{
		basic: {
			title,
			type: "website",
			image: ogImage.toString(),
			url: Astro.url,
		},
		image: {
			alt: title,
		},
	}}
	twitter={{
		creator: "@pukpuklouis",
		card: "summary_large_image",
		title,
		description,
		image: ogImage.toString(),
	}}
	extend={{
		meta: [
			{ name: "generator", content: Astro.generator },
			{
				name: "google-site-verification",
				content: "bx6_IIXObWAVLctV4NRtat-VCBRqz9diSMlFwerl1g0",
			},
		],
	}}
/>

<!-- ahrefs setup with Partytown -->
<script
	type="text/partytown"
	src="https://analytics.ahrefs.com/analytics.js"
	data-key="h8OQRUhXvvY2LPkuL7o0IQ"
	async
	is:inline></script>

<!-- View Transitions -->
<ClientRouter />
<!-- Theme Toggle -->
<script type="text/partytown" src="/scripts/theme-toggle.js"></script>
